var e,t,n,o,l,a,r,i;import{V as A,S as c,R as s,B as d,a as u,b as h,C as g,c as f,d as m,N as w,M as p,D as b,e as E,P as v,W as C,f as y}from"./vendor.1630b8ff.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const S=new A,B=new c,L=new s,x=document.getElementById("link");function I(e,t){let n=t.clone();n.sub(e.position),e.rotation.y=-Math.atan2(n.x,-n.z),e.rotation.x=Math.atan2(n.y,Math.sqrt(n.x*n.x+n.z*n.z)),e.rotation.z=0}function R(e,t,n,o,l,a,r){let i=[[e+l,t],[e+l+n,t],[e+l,t-l],[e+l+n,t-l]],A=[[e+l+n,t-l],[e+l+n+n,t-l],[e+l+n,t],[e+l+n+n,t]],c=[[e,t-l],[e+l,t-l],[e,t-l-o],[e+l,t-l-o]],s=[[e+l,t-l],[e+n+l,t-l],[e+l,t-l-o],[e+n+l,t-l-o]],u=[[e+l+n,t-l],[e+l+l+n,t-l],[e+l+n,t-l-o],[e+l+l+n,t-l-o]],h=[[e+l+n+l,t-l],[e+l+n+l+n,t-l],[e+l+n+l,t-l-o],[e+l+n+l+n,t-l-o]],g=[];for(let d of u)g.push(d[0]/a),g.push(d[1]/r);for(let d of c)g.push(d[0]/a),g.push(d[1]/r);for(let d of i)g.push(d[0]/a),g.push(d[1]/r);for(let d of A)g.push(d[0]/a),g.push(d[1]/r);for(let d of s)g.push(d[0]/a),g.push(d[1]/r);for(let d of h)g.push(d[0]/a),g.push(d[1]/r);return new d(new Float32Array(g),2)}function M(){x.setAttribute("download",(""===ie.value.trim()?"skin":ie.value)+".png"),x.setAttribute("href",oe.toDataURL("image/png").replace("image/png","image/octet-stream")),x.click()}const k=new u;let U=!1,Y=!1,D=!1,Q=!1,N="",j=-1;let X=!1;function T(e){U=e}function F(e){Y=e}function H(e){D=e}function K(e){Q=e}function J(e){N=e}function z(e){j=e}function q(e){X=e}let G=window.innerWidth,W=window.innerHeight;const O=new h;O.background=new g(3684408);const V=R(0,64,8,8,8,64,64),Z=new f;Z.setAttribute("uv",V);const $=R(32,64,8,8,8,64,64),P=new f;P.setAttribute("uv",$);let _=0;const ee=[],te=[],ne=document.getElementById("layers"),oe=document.createElement("canvas");oe.width=64,oe.height=64;const le=oe.getContext("2d"),ae=document.createElement("canvas");ae.width=64,ae.height=64;const re=ae.getContext("2d"),ie=document.getElementById("skin-name-input"),Ae=document.getElementById("save"),ce=document.getElementById("texture-canvas"),se=ce.getContext("2d");se.imageSmoothingEnabled=!1;let de=1,ue={x:0,y:0};const he={x:0,y:0},ge=document.createElement("img");ge.src="data:image/png;base64,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",ge.addEventListener("load",(()=>{Pe()}));const fe=new m(oe);fe.minFilter=w,fe.magFilter=w;const me=new p({color:16777215,map:fe,depthWrite:!0,depthTest:!0,side:b}),we=new p({color:16777215,transparent:!0,map:fe,depthWrite:!0,depthTest:!0,side:b}),pe=new E(Z,me);O.add(pe);const be=new E(P,we);be.scale.multiplyScalar(9/8),O.add(be);const Ee=new v(75,G/W,.1,1e3);Ee.rotation.order="ZYX",Ee.position.set(1.1,1.1,1.1);const ve=new C;ve.setSize(G,W),ve.domElement.id="dom-element",document.body.appendChild(ve.domElement);const Ce=document.getElementById("color-result"),ye=Ce.getContext("2d"),Se=document.getElementById("color-h"),Be=Se.getContext("2d"),Le=document.getElementById("color-s"),xe=Le.getContext("2d"),Ie=document.getElementById("color-l"),Re=Ie.getContext("2d"),Me=document.getElementById("color-r"),ke=Me.getContext("2d"),Ue=document.getElementById("color-g"),Ye=Ue.getContext("2d"),De=document.getElementById("color-b"),Qe=De.getContext("2d"),Ne=document.getElementById("color-a"),je=Ne.getContext("2d"),Xe=document.getElementById("color-picker"),Te={h:0,s:0,l:0},Fe={r:0,g:0,b:0};let He=0;const Ke=document.getElementById("hotbar"),Je=document.createElement("img");Je.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAWCAYAAABt7GbqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF4SURBVGhD7dtBboJQEAbgwTR1h01NPAo36G3gNByBBQt2bHsDF97AsHXDAWya0L4HWt44XYyPLjr+X/JHwT8TFyOJCSRENHwHwBS/2IfDwR8cj0f/Onc6naZ3AP9DURTjYjdNQ23bjmcjbLdb6vuesiyj/X4/nb0f5sV51HlVVYWLXdf1+1iRrddE5zPR0zPR58d0cibP87f5F8W8EOaF/mqeW+zVdO5qt9v9ms1mfH19uf3MJU3TacoPqXcJ5oXBvOXm3Sw2gAV+sfEHEazBFRtMwmKDSVhsMAmLDSZhscEkLDaYFCx2ksSFkzqacFJHE07qaMJJHU04qaMJJ3U04aSOJpzU0WQOV2wwKVjsYYgLJ3U04aSOJpzU0YSTOppwUkcTTupowkkdTTipo8kcrthgEhYbTFp0sVerZX8nmBfnkee5/5JDWZb+6RnpNkKtruv8/bWYdx/Mi+PmXR80cIvtbvReyuVJhqVgXpxHm3dd7PEQwAqiL+N5Z5to8ZQOAAAAAElFTkSuQmCC",Je.addEventListener("load",(()=>{Oe(He)}));const ze=document.createElement("img");ze.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAC1SURBVEhL7ZUxCsMgFIZfuzt7Ek/hnlN4nJzC2RNk9RDOzoKO1jyTELvYxlgo+IGoT3gfIvg/ACCm0Q0UJHATQsD5jLV2W32H1hqmacoC7z0opfJJI4QQcM7Bsiwwz3MpWIutcM4LwcoqiFLKKIRofg9jzLlXfOZyP1Bw9SE/4Tc36MkQVBmCKkNQ5f8ElNJtlcHASX84RhxjLFcvsjffw+tItF1wJ4UgJdAtcfnOIcjbHgC8APM0YRoSC87fAAAAAElFTkSuQmCC",ze.addEventListener("load",(()=>{Oe(He)}));const qe=Ke.getContext("2d"),Ge=[{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255},{color:new g(1,0,0),alpha:255}];function We(e){ee[_].parentElement.style.backgroundColor="rgb(30, 30, 30)",_=e,ee[_].parentElement.style.backgroundColor="rgb(10, 10, 10)"}function Oe(e){He=e,qe.imageSmoothingEnabled=!1,qe.clearRect(0,0,Ke.width,Ke.height),qe.drawImage(Je,1,1),qe.drawImage(ze,20*He,0);for(let t=0;t<Ge.length;t++)qe.fillStyle=Ge[t].color.getStyle(),qe.fillRect(20*t+4,4,16,16);tt("rgb",255*Ge[He].color.r,255*Ge[He].color.g,255*Ge[He].color.b)}Oe(He);function Ve(e){G=e;const t=Math.min(.3*window.innerWidth,.5*window.innerHeight);ce.width=Math.min(.3*window.innerWidth,.5*window.innerHeight),document.getElementById("texture-checker").width=t,ie.parentElement.style.width=t+"px",ie.style.width=t-35+"px",ne.style.width=t+6+"px",Oe(He),_e()}function Ze(e){W=e;const t=Math.min(.3*window.innerWidth,.5*window.innerHeight);ce.height=t,document.getElementById("texture-checker").height=t,ne.style.height=t-37+"px",_e()}function $e(e){Ge[He].alpha=e}function Pe(){var e,t;null==(e=te[0])||e.clearRect(0,0,64,64),null==(t=te[0])||t.drawImage(ge,0,0),_e()}function _e(){L.setFromCamera(k,Ee);const e=L.intersectObjects(O.children);if(e.length>0){if(!X&&be.visible){const t=e[0].uv;et(Math.floor(64*t.x),Math.floor(64*t.y))}else if(e[1].object===pe){const t=e[1].uv;et(Math.floor(64*t.x),Math.floor(64*t.y))}}else et()}function et(e,t){me.map.needsUpdate=!0,we.map.needsUpdate=!0,null==le||le.clearRect(0,0,64,64);for(const n of ee)null==le||le.drawImage(n,0,0);null==re||re.clearRect(0,0,64,64),null==re||re.drawImage(oe,0,0),"number"==typeof e&&"number"==typeof t&&(e=8*Math.floor(e/8),t=8*Math.floor((64-t-1)/8),re.fillStyle="rgba(255, 255, 0, 0.5)",re.fillRect(e,t,8,8)),se.imageSmoothingEnabled=!1,null==se||se.clearRect(0,0,ce.width,ce.height),null==se||se.drawImage(ae,ue.x,ue.y,64/de,64/de,0,0,ce.width,ce.height)}function tt(e,t,n,o){switch(t=Math.floor(t),n=Math.floor(n),o=Math.floor(o),e){case"hsl":Te.h=t,Te.s=n,Te.l=o,Ge[He].color.set(`hsl(${t}, ${n}%, ${o}%)`),Fe.r=Math.floor(255*Ge[He].color.r),Fe.g=Math.floor(255*Ge[He].color.g),Fe.b=Math.floor(255*Ge[He].color.b);break;case"rgb":Fe.r=t,Fe.g=n,Fe.b=o,Ge[He].color.set(`rgb(${t}, ${n}, ${o})`),Ge[He].color.getHSL(Te),Te.h=Math.floor(360*Te.h),Te.s=Math.floor(100*Te.s),Te.l=Math.floor(100*Te.l);break;case"hex":Ge[He].color.set(t),Ge[He].color.getHSL(Te),Te.h=Math.floor(360*Te.h),Te.s=Math.floor(100*Te.s),Te.l=Math.floor(100*Te.l),Fe.r=Math.floor(255*Ge[He].color.r),Fe.g=Math.floor(255*Ge[He].color.g),Fe.b=Math.floor(255*Ge[He].color.b)}ye.clearRect(0,0,Ce.width,Ce.height),ye.fillStyle=`rgba(${255*Ge[He].color.r}, ${255*Ge[He].color.g}, ${255*Ge[He].color.b}, ${Ge[He].alpha/255})`,ye.fillRect(0,0,256,32),qe.fillStyle=Ge[He].color.getStyle(),qe.fillRect(20*He+4,4,16,16),function(e,t,n){const o=Be.createLinearGradient(0,0,Se.width,0);o.addColorStop(0,`hsl(0, ${t}%, ${n}%)`),o.addColorStop(.15,`hsl(60, ${t}%, ${n}%)`),o.addColorStop(.33,`hsl(120, ${t}%, ${n}%)`),o.addColorStop(.49,`hsl(180, ${t}%, ${n}%)`),o.addColorStop(.67,`hsl(240, ${t}%, ${n}%)`),o.addColorStop(.84,`hsl(300, ${t}%, ${n}%)`),o.addColorStop(1,`hsl(360, ${t}%, ${n}%)`),Be.fillStyle=o,Be.fillRect(0,0,256,32),Be.beginPath(),Be.moveTo(256*e/360,0),Be.lineTo(256*e/360,32),Be.stroke(),document.getElementById("input-h").value=`${e}`}(Te.h,Te.s,Te.l),function(e,t,n){const o=xe.createLinearGradient(0,0,Le.width,0);o.addColorStop(0,`hsl(${e}, 0%, ${n}%)`),o.addColorStop(1,`hsl(${e}, 100%, ${n}%)`),xe.fillStyle=o,xe.fillRect(0,0,256,32),xe.beginPath(),xe.moveTo(256*t/100,0),xe.lineTo(256*t/100,32),xe.stroke(),document.getElementById("input-s").value=`${t}`}(Te.h,Te.s,Te.l),function(e,t,n){const o=Re.createLinearGradient(0,0,Ie.width,0);o.addColorStop(0,`hsl(${e}, ${t}%, 0%)`),o.addColorStop(.5,`hsl(${e}, ${t}%, 50%)`),o.addColorStop(1,`hsl(${e}, ${t}%, 100%)`),Re.fillStyle=o,Re.fillRect(0,0,256,32),Re.beginPath(),Re.moveTo(256*n/100,0),Re.lineTo(256*n/100,32),Re.stroke(),document.getElementById("input-l").value=`${n}`}(Te.h,Te.s,Te.l),function(e,t,n){const o=ke.createLinearGradient(0,0,Me.width,0);o.addColorStop(0,`rgb(0, ${t}, ${n})`),o.addColorStop(1,`rgb(255, ${t}, ${n})`),ke.fillStyle=o,ke.fillRect(0,0,256,32),ke.beginPath(),ke.moveTo(e,0),ke.lineTo(e,32),ke.stroke(),document.getElementById("input-r").value=`${e}`}(Fe.r,Fe.g,Fe.b),function(e,t,n){const o=Ye.createLinearGradient(0,0,Ue.width,0);o.addColorStop(0,`rgb(${e}, 0, ${n})`),o.addColorStop(1,`rgb(${e}, 255, ${n})`),Ye.fillStyle=o,Ye.fillRect(0,0,256,32),Ye.beginPath(),Ye.moveTo(t,0),Ye.lineTo(t,32),Ye.stroke(),document.getElementById("input-g").value=`${t}`}(Fe.r,Fe.g,Fe.b),function(e,t,n){const o=Qe.createLinearGradient(0,0,De.width,0);o.addColorStop(0,`rgb(${e}, ${t}, 0)`),o.addColorStop(1,`rgb(${e}, ${t}, 255)`),Qe.fillStyle=o,Qe.fillRect(0,0,256,32),Qe.beginPath(),Qe.moveTo(n,0),Qe.lineTo(n,32),Qe.stroke(),document.getElementById("input-b").value=`${n}`}(Fe.r,Fe.g,Fe.b),function(e,t,n,o){const l=je.createLinearGradient(0,0,Ne.width,0);l.addColorStop(0,`rgba(${255*e}, ${255*t}, ${255*n}, 0)`),l.addColorStop(1,`rgba(${255*e}, ${255*t}, ${255*n}, 255)`),je.clearRect(0,0,Ne.width,Ne.height),je.fillStyle=l,je.fillRect(0,0,256,32),je.beginPath(),je.moveTo(o,0),je.lineTo(o,32),je.stroke(),document.getElementById("input-a").value=`${o}`}(Ge[He].color.r,Ge[He].color.g,Ge[He].color.b,Ge[He].alpha),document.getElementById("input-result").value=Ge[He].color.getHexString()+Ge[He].alpha.toString(16)}Ve(window.innerWidth),Ze(window.innerHeight),function(){ee.push(document.createElement("canvas")),ee[ee.length-1].width=64,ee[ee.length-1].height=64,ee[ee.length-1].id="layer"+(ee.length-1)+"-canvas",ee[ee.length-1].className="layer-canvas",te.push(ee[ee.length-1].getContext("2d"));const e=document.createElement("div");e.id="layer"+(ee.length-1),e.className="layer";const t=document.createElement("p");t.innerHTML="Layer "+(ee.length-1),t.id="layer"+(ee.length-1)+"-label",t.className="layer-label",e.appendChild(t),e.appendChild(ee[ee.length-1]);const n=ee.length-1;e.addEventListener("mousedown",(e=>{We(n)})),ne.appendChild(e)}(),We(0);const nt={},ot={},lt={x:-1,y:-1};function at(){L.setFromCamera(k,Ee);const e=L.intersectObjects(O.children);if(e.length>0){let t;if(!X&&be.visible)t=e[0];else if(t=e[1],t.object===be)return;At(Math.floor(64*t.uv.x),64-Math.floor(64*t.uv.y)-1),_e()}}function rt(){L.setFromCamera(k,Ee);const e=L.intersectObjects(O.children);if(e.length>0){let t;!X&&be.visible?it(e[0])||it(e[1]):(t=e[1],it(t))}}function it(e){var t;const n=Math.floor(64*e.uv.x),o=64-Math.floor(64*e.uv.y)-1,l=null==(t=te[_])?void 0:t.getImageData(n,o,1,1).data;return $e(l[3]),tt("rgb",l[0],l[1],l[2]),0!==Ge[He].alpha}function At(e,t,n=!1){var o,l;(lt.x<0||lt.y<0)&&(lt.x=e,lt.y=t),null==(o=te[_])||o.clearRect(e,t,1,1),n&&function(e,t,n,o){var l;const a=n-e,r=o-t,i=Math.sqrt(a*a+r*r);for(let A=0;A<i;A++)null==(l=te[_])||l.clearRect(Math.floor(e+a*A/i),Math.floor(t+r*A/i),1,1)}(e,t,lt.x,lt.y),0===j&&(te[_].fillStyle=`rgb(${255*Ge[He].color.r}, ${255*Ge[He].color.g}, ${255*Ge[He].color.b}, ${Ge[He].alpha/255})`,n&&function(e,t,n,o){var l;const a=n-e,r=o-t,i=Math.sqrt(a*a+r*r);for(let A=0;A<i;A++)null==(l=te[_])||l.fillRect(Math.floor(e+a*A/i),Math.floor(t+r*A/i),1,1)}(e,t,lt.x,lt.y),null==(l=te[_])||l.fillRect(e,t,1,1)),lt.x=e,lt.y=t,_e()}function ct(e,t){!function(e,t){he.x=e,he.y=t}(64*e/ce.width/de+ue.x,64*t/ce.height/de+ue.y),Q&&(1===j?function(e,t){const n=null==le?void 0:le.getImageData(e,t,1,1).data;$e(n[3]),tt("rgb",n[0],n[1],n[2])}(Math.floor(he.x),Math.floor(he.y)):At(Math.floor(he.x),Math.floor(he.y),!0))}document.addEventListener("mousemove",(function(e){if(k.x=e.clientX/G*2-1,k.y=-e.clientY/W*2+1,Y&&(0===j||1===j||2===j))switch(N){case"h":dt(ut,y(e.clientX-Xe.clientLeft,0,256),360);break;case"s":dt(ht,y(e.clientX-Xe.clientLeft,0,256),100);break;case"l":dt(gt,y(e.clientX-Xe.clientLeft,0,256),100);break;case"r":dt(ft,y(e.clientX-Xe.clientLeft,0,256),255);break;case"g":dt(mt,y(e.clientX-Xe.clientLeft,0,256),255);break;case"b":dt(wt,y(e.clientX-Xe.clientLeft,0,256),255);break;case"a":dt(pt,y(e.clientX-Xe.clientLeft,0,256),255);break;default:D&&(0===j||2===j?at():rt())}U&&0===j&&function(e,t){var n,o,l;B.setFromVector3(Ee.position),o=.007*t,l=.007*e,(n=B).theta-=l,n.phi=n.phi-o;let a=0,r=.01;B.phi<r&&(a=r-B.phi),B.phi>Math.PI-r&&(a=Math.PI-r-B.phi),B.phi+=a,Ee.position.setFromSpherical(B),I(Ee,S)}(e.movementX,e.movementY)})),ce.addEventListener("mousemove",(function(e){ct(e.offsetX,e.offsetY)})),ce.addEventListener("mousedown",(function(e){z(e.button),(0===e.button||1===e.button||2===e.button)&&(K(!0),ct(e.offsetX,e.offsetY))})),document.addEventListener("contextmenu",(function(e){e.preventDefault()})),document.addEventListener("wheel",(e=>{var t,n,o;e.ctrlKey||Oe((t=He+(e.deltaY>0?1:-1),n=0,t>(o=8)?n+t-o-1:t<n?o-(n-t-1):t))})),ve.domElement.addEventListener("wheel",(function(e){e.ctrlKey&&!(Ee.position.length()<1.2&&e.deltaY<0||Ee.position.length()>5&&e.deltaY>0)&&Ee.position.multiplyScalar(Math.pow(Math.pow(2,1/4),e.deltaY/100));e.preventDefault()})),ce.addEventListener("wheel",(function(e){e.ctrlKey&&(!function(e){const t=y(de*Math.pow(Math.pow(2,1/4),e),1,8),n=ue.x,o=ue.y,l=he.x,a=he.y,r=64/t;ue={x:de/t*(n-l)+l,y:de/t*(o-a)+a},ue.x=y(ue.x,0,64-r),ue.y=y(ue.y,0,64-r),de=t}(e.deltaY/-100),_e());e.preventDefault()})),ve.domElement.addEventListener("mousemove",(e=>{_e()})),ve.domElement.addEventListener("mousedown",(function(e){z(e.button),L.setFromCamera(k,Ee);const t=L.intersectObjects(O.children);!e.ctrlKey&&t.length>0?(H(!0),0===e.button||2===e.button?at():1===e.button&&rt()):T(!0)})),document.addEventListener("mousedown",(function(e){F(!0),z(e.button)})),document.addEventListener("mouseup",(function(e){T(!1),F(!1),H(!1),K(!1),J(""),lt.x=-1,lt.y=-1})),document.addEventListener("keydown",(function(e){e.ctrlKey&&"KeyS"===e.code&&(M(),e.preventDefault());"Tab"===e.code&&(be.visible=!be.visible,e.preventDefault());"Shift"===e.key&&(q(!0),e.preventDefault());_e(),nt[e.key]=!0,ot[e.code]=!0})),document.addEventListener("keyup",(function(e){"Shift"===e.key&&q(!1);_e(),nt[e.key]=!1,ot[e.code]=!1})),document.addEventListener("dragover",(e=>{e.preventDefault()}));const st=new FileReader;function dt(e,t,n){e(t*n/256)}function ut(e){tt("hsl",e,Te.s,Te.l)}function ht(e){tt("hsl",Te.h,e,Te.l)}function gt(e){tt("hsl",Te.h,Te.s,e)}function ft(e){tt("rgb",e,Fe.g,Fe.b)}function mt(e){tt("rgb",Fe.r,e,Fe.b)}function wt(e){tt("rgb",Fe.r,Fe.g,e)}function pt(e){$e(Math.floor(e)),tt("rgb",Fe.r,Fe.g,Fe.b)}st.addEventListener("load",(function(){ge.src=st.result,Pe()}),!1),document.addEventListener("drop",(e=>{var t;if(e.preventDefault(),null==(t=e.dataTransfer)?void 0:t.items){if("file"===e.dataTransfer.items[0].kind){const t=e.dataTransfer.items[0].getAsFile();(null==t?void 0:t.name.endsWith(".png"))&&st.readAsDataURL(t)}}else{const t=e.dataTransfer.files[0];t.name.endsWith("png")&&st.readAsDataURL(t)}})),Ae.addEventListener("mouseenter",(e=>{Ae.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACJSURBVChTY2RgYPgPxPgASA0DE4jYevA/GP//D8EwNogGAjABVggCly+eYvj16xcYw9ggGqYYrhAZFKYbQFkMDPW1ZWCaBUxCgbVrDZQFASEhIVAWBPwHGg8Gly9fRsEgYGJXCrIbYTXITWpqaigYJAYDKG68desWCkYGcDeiuw8dEBPgQMDAAAApbl3gtKADlwAAAABJRU5ErkJggg=="})),Ae.addEventListener("mouseleave",(e=>{Ae.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACDSURBVChTjZCxDcAgDAQ/UWahYgAKxHhULEDDVFSMQkOwMYikiHLS2w96YYsDQOv6gjI4qcQYWa011vTUO/wQB4lSCmqtrOmpz/AK7njvxQEpJe4XV8E5J25grRW3BUMIyDnLaaC1hjGG/RpNOymlHqK7yWNHWn7Xzhr93u/Nnw/vADdsY0M0wsX8pgAAAABJRU5ErkJggg=="})),Ae.addEventListener("mousedown",(e=>{M()})),Ke.addEventListener("mousedown",(function(e){const t=Ke.clientWidth*(1/184),n=Ke.clientWidth*(20/184);Oe(y(Math.floor((e.offsetX-t)/n),0,8))})),window.addEventListener("resize",(function(){Ve(window.innerWidth),Ze(window.innerHeight),ve.setSize(G,W),Ee.aspect=G/W,Ee.updateProjectionMatrix()})),Se.addEventListener("mousedown",(e=>{J("h"),dt(ut,e.offsetX,360)})),Le.addEventListener("mousedown",(e=>{J("s"),dt(ht,e.offsetX,100)})),Ie.addEventListener("mousedown",(e=>{J("l"),dt(gt,e.offsetX,100)})),Me.addEventListener("mousedown",(e=>{J("r"),dt(ft,e.offsetX,255)})),Ue.addEventListener("mousedown",(e=>{J("g"),dt(mt,e.offsetX,255)})),De.addEventListener("mousedown",(e=>{J("b"),dt(wt,e.offsetX,255)})),Ne.addEventListener("mousedown",(e=>{J("a"),dt(pt,e.offsetX,255)})),null==(e=document.getElementById("input-h"))||e.addEventListener("input",(function(e){ut(y(Number(this.value),0,360))})),null==(t=document.getElementById("input-s"))||t.addEventListener("input",(function(e){ht(y(Number(this.value),0,100))})),null==(n=document.getElementById("input-l"))||n.addEventListener("input",(function(e){gt(y(Number(this.value),0,100))})),null==(o=document.getElementById("input-r"))||o.addEventListener("input",(function(e){ft(y(Number(this.value),0,255))})),null==(l=document.getElementById("input-g"))||l.addEventListener("input",(function(e){mt(y(Number(this.value),0,255))})),null==(a=document.getElementById("input-b"))||a.addEventListener("input",(function(e){wt(y(Number(this.value),0,255))})),null==(r=document.getElementById("input-a"))||r.addEventListener("input",(function(e){pt(y(Number(this.value),0,255))}));const bt=document.getElementsByClassName("up");for(const Lt of bt)Lt.addEventListener("mousedown",vt),Lt.addEventListener("mouseenter",(function(e){this.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHCAYAAADebrddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABXSURBVChTY8AK2O3+Q1kEAFDh1oP//2PTwASlIQCkcNdBhssXTzGYmJtj2MAIpVEUwsCaNWsYzpw8ycDw8xBYHUQxFoUwgKyBEZeJ6ACkAawYyicAGBgA8SEyl/0Y258AAAAASUVORK5CYII="})),Lt.addEventListener("mouseleave",(function(e){this.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHCAYAAADebrddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABSSURBVChThYzBEYAwCATRpqiVfvjQAs3E4QQHkzju5zhmgT4YmS/OzM4QESRaY5YhujsxMzq2yZEZPGKhqmRmMcIreRGLfhDy9uNMHEC+6x9EF8paKsuTxLiWAAAAAElFTkSuQmCC"}));const Et=document.getElementsByClassName("down");for(const Lt of Et)Lt.addEventListener("mousedown",Ct),Lt.addEventListener("mouseenter",(function(e){this.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHCAYAAADebrddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABcSURBVChTY2Rgt/vPQCQAK9666yCUiwCXL56CshgY1qxZw3Dm5EmgYhCAakBWAAMwhQw/DzFCFIMAFg3ICqFCSACk4eD//x2TTv43sSv9T9g/UA2EFcIAVoUMDABzgTWRDJWebQAAAABJRU5ErkJggg=="})),Lt.addEventListener("mouseleave",(function(e){this.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHCAYAAADebrddAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABPSURBVChTjY9bCgAgCAS3+5/A+/jjFbxMpWVID2hAUZj92AKg9vnCZSIaX0JV5wUwM0TEZcMDWQhC7JSQjSOQxbUSK7CLLyxgpb+LX0SgAXA+LsskBDiEAAAAAElFTkSuQmCC"}));function vt(e){switch(this.classList[1]){case"arrow-h":ut(y(Te.h+1,0,360));break;case"arrow-s":ht(y(Te.s+1,0,100));break;case"arrow-l":gt(y(Te.l+1,0,100));break;case"arrow-r":ft(y(Fe.r+1,0,255));break;case"arrow-g":mt(y(Fe.g+1,0,255));break;case"arrow-b":wt(y(Fe.b+1,0,255));break;case"arrow-a":pt(y(Ge[He].alpha+1,0,255))}}function Ct(e){switch(this.classList[1]){case"arrow-h":ut(y(Te.h-1,0,360));break;case"arrow-s":ht(y(Te.s-1,0,100));break;case"arrow-l":gt(y(Te.l-1,0,100));break;case"arrow-r":ft(y(Fe.r-1,0,255));break;case"arrow-g":mt(y(Fe.g-1,0,255));break;case"arrow-b":wt(y(Fe.b-1,0,255));break;case"arrow-a":pt(y(Ge[He].alpha-1,0,255))}}null==(i=document.getElementById("input-result"))||i.addEventListener("input",(function(e){tt("hex",(t=this.value,n=Ge[He].color.getHex(),6!==t.length?n:Number("0x"+t)),0,0);var t,n}));const yt=document.getElementsByTagName("img");for(const Lt of yt)Lt.onmousedown=St;function St(e){e.preventDefault()}I(Ee,S);const Bt=function(){requestAnimationFrame(Bt),ve.render(O,Ee)};Bt();
